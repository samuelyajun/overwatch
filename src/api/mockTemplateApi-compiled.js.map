{"version":3,"sources":["mockTemplateApi.js"],"names":[],"mappings":"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","file":"mockTemplateApi-compiled.js","sourcesContent":["import delay from './delay';\r\nconst templates = [\r\n    {\r\n        \"id\": 1,\r\n        \"name\": \"Team - 4 Days until end of Sprint\",\r\n        \"type\": \"Qualitative\",\r\n        \"description\": \"issued to team 4 days before the end of sprint, due on last day of sprint\",\r\n        \"createDate\": null,\r\n        \"version\": \"v1.0\",\r\n        \"_links\": {\r\n            \"self\": {\r\n                \"href\": \"http://localhost:3000/templates/1\"\r\n            },\r\n            \"template\": {\r\n                \"href\": \"http://localhost:3000/templates/1\"\r\n            },\r\n            \"questions\": {\r\n                \"href\": \"http://localhost:3000/templates/1/questions\"\r\n            }\r\n        }\r\n    },\r\n        {\r\n            \"id\": 2,\r\n            \"name\": \"Team - Sprint Planning Day\",\r\n            \"type\": \"Qualitative\",\r\n            \"description\": \"issued to team on their sprint planning day, due 3 days there after\",\r\n            \"createDate\": null,\r\n            \"version\": \"v1.0\",\r\n            \"_links\": {\r\n                \"self\": {\r\n                    \"href\": \"http://localhost:3000/templates/2\"\r\n                },\r\n                \"template\": {\r\n                    \"href\": \"http://localhost:3000/templates/2\"\r\n                },\r\n                \"questions\": {\r\n                    \"href\": \"http://localhost:3000/templates/2/questions\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"id\": 3,\r\n            \"name\": \"EM/TL - Sprint Planning Day\",\r\n            \"type\": \"Qualitative\",\r\n            \"description\": \"issued to Engagement manager and Tech Lead on their sprint planning day, due 3 days there after\",\r\n            \"createDate\": null,\r\n            \"version\": \"v1.0\",\r\n            \"_links\": {\r\n                \"self\": {\r\n                    \"href\": \"http://localhost:3000/templates/3\"\r\n                },\r\n                \"template\": {\r\n                    \"href\": \"http://localhost:3000/templates/3\"\r\n                },\r\n                \"questions\": {\r\n                    \"href\": \"http://localhost:3000/templates/3/questions\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"id\": 4,\r\n            \"name\": \"EM - 4 Days until end of Sprint\",\r\n            \"type\": \"Quantitative\",\r\n            \"description\": \"issued to team 4 days before the end of sprint, due on last day of sprint\",\r\n            \"createDate\": null,\r\n            \"version\": \"v1.0\",\r\n            \"_links\": {\r\n                \"self\": {\r\n                    \"href\": \"http://localhost:3000/templates/4\"\r\n                },\r\n                \"template\": {\r\n                    \"href\": \"http://localhost:3000/templates/4\"\r\n                },\r\n                \"questions\": {\r\n                    \"href\": \"http://localhost:3000/templates/4/questions\"\r\n                }\r\n            }\r\n        },\r\n        {\r\n            \"id\": 5,\r\n            \"name\": \"TL - Sprint Planning Day\",\r\n            \"type\": \"Quantitative\",\r\n            \"description\": \"issued to team on their sprint planning day, due 3 days there after\",\r\n            \"createDate\": null,\r\n            \"version\": \"v1.0\",\r\n            \"_links\": {\r\n                \"self\": {\r\n                    \"href\": \"http://localhost:3000/templates/5\"\r\n                },\r\n                \"template\": {\r\n                    \"href\": \"http://localhost:3000/templates/5\"\r\n                },\r\n                \"questions\": {\r\n                    \"href\": \"http://localhost:3000/templates/5/questions\"\r\n                }\r\n            }\r\n        }\r\n];\r\n\r\nfunction replaceAll(str, find, replace) {\r\n    return str.replace(new RegExp(find, 'g'), replace);\r\n}\r\n\r\n//This would be performed on the server in a real app. Just stubbing in.\r\nconst generateId = (template) => {\r\n    return replaceAll(template.name, ' ', '-');\r\n};\r\n\r\nclass TemplateApi {\r\n    static getAllTemplates() {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                resolve(Object.assign([], templates));\r\n            }, delay);\r\n        });\r\n    }\r\n\r\n    static saveTemplate(template) {\r\n        template = Object.assign({}, template); // to avoid manipulating object passed in.\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                // Simulate server-side validation\r\n                const minTemplateNameLength = 1;\r\n                if (template.name.length < minTemplateNameLength) {\r\n                    reject(`Name must be at least ${minTemplateNameLength} characters.`);\r\n                }\r\n\r\n                if (template.id) {\r\n                    const existingTemplateIndex = templates.findIndex(a => a.id == template.id);\r\n                    templates.splice(existingTemplateIndex, 1, template);\r\n                } else {\r\n                    //Just simulating creation here.\r\n                    //The server would generate ids and watchHref's for new courses in a real app.\r\n                    //Cloning so copy returned is passed by value rather than by reference.\r\n                    template.id = generateId(template);\r\n                    template.watchHref = `http://www.pluralsight.com/courses/${template.id}`;\r\n                    template.push(template);\r\n                }\r\n\r\n                resolve(template);\r\n            }, delay);\r\n        });\r\n    }\r\n\r\n    /*static deleteTemplate(templateId) {\r\n        return new Promise((resolve, reject) => {\r\n            setTimeout(() => {\r\n                const indexOfTemplateToDelete = templates.findIndex(template => {\r\n                    template.templateId == templateId;\r\n                });\r\n                templates.splice(indexOfTemplateToDelete, 1);\r\n                resolve();\r\n            }, delay);\r\n        });\r\n    }*/\r\n}\r\n\r\nexport default  TemplateApi;\r\n"]}